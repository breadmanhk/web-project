<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Member Login - CineMax Theatre</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/base.css" />
    <link rel="stylesheet" href="assets/css/layout.css" />
    <link rel="stylesheet" href="assets/css/components.css" />
    <link rel="stylesheet" href="assets/css/responsive.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo-container">
                <img src="assets/images/logo.svg" alt="CineMax Theatre Logo" class="logo" />
                <h1>CineMax Theatre</h1>
            </div>
        </div>
    </header>

    <div class="container">
        <main class="fade-in">
            <h2>Member Login</h2>

            <form id="loginForm" action="includes/auth/login.php" method="post">
                <div class="form-group">
                    <label for="email">Email Address: <span style="color: #dc1f26;">*</span></label>
                    <input type="email" id="email" name="email" required="required"
                           placeholder="Enter your email address" />
                </div>

                <div class="form-group">
                    <label for="password">Password: <span style="color: #dc1f26;">*</span></label>
                    <input type="password" id="password" name="password" required="required"
                           placeholder="Enter your password" />
                </div>

                <div class="btn-group">
                    <button type="submit" class="btn btn-primary">Login</button>
                    <button type="button" id="clearBtn" class="btn btn-secondary">Clear</button>
                </div>
            </form>

            <nav style="text-align: center; margin-top: 20px;">
                <a href="index.php" class="btn btn-secondary">Back to Home</a>
                <a href="register.html" class="btn btn-success">New Member? Register</a>
            </nav>
        </main>

        <footer>
            <p>&copy; 2025 CineMax Theatre. All rights reserved.</p>
            <p>SEHS4517 Web Application Development and Management</p>
        </footer>
    </div>

    <script>
        /**
         * Login form validation and handling using JavaScript and jQuery
         */
        $(document).ready(function() {
            // Clear button functionality
            $('#clearBtn').on('click', function() {
                $('#loginForm')[0].reset();
                $('.message').remove();
            });

            // Form validation on submit
            $('#loginForm').on('submit', function(e) {
                var email = $('#email').val().trim();
                var password = $('#password').val();

                // Remove previous error messages
                $('.message').remove();

                // Validate email format
                var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailPattern.test(email)) {
                    e.preventDefault();
                    showError('Please enter a valid email address');
                    return false;
                }

                // Validate password is not empty
                if (password === '') {
                    e.preventDefault();
                    showError('Please enter your password');
                    return false;
                }

                return true;
            });

            /**
             * Function to display error message
             * @param {string} message - Error message to display
             */
            function showError(message) {
                var errorDiv = $('<div class="message message-error">' + message + '</div>');
                $('form').before(errorDiv);
                $('html, body').animate({ scrollTop: 0 }, 300);
            }

            // Input focus effects
            $('input').on('focus', function() {
                $(this).parent().addClass('active');
            }).on('blur', function() {
                $(this).parent().removeClass('active');
            });
        });
    </script>
</body>
</html>
